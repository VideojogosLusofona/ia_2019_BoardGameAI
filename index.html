<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ColorShapeLinks: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ColorShapeLinks
   </div>
   <div id="projectbrief">An assignment for the AI course unit of the Bachelor in Videogames at Lusófona University</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ColorShapeLinks Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>ColorShapeLinks AI</h1>
<p>An assignment for the Artificial Intelligence course unit of the <a href="https://www.ulusofona.pt/en/undergraduate/videogames">Bachelor in Videogames</a> at <a href="https://www.ulusofona.pt/">Universidade Lusófona de Humanidades e Tecnologias</a>, Lisbon, Portugal.</p>
<h2>Introduction</h2>
<p>The goal of this assignment is to implement a competitive AI for the board game included in this repository, the rules of which are similar to the <a href="https://boardgamegeek.com/boardgame/55810/simplexity">Simplexity</a> board game. However, this board game can played with arbitrary number of rows and columns, as well as accepting different number of pieces in a row for achieving victory. For the purpose of this assignment, we will refer to this board game as <em>ColorShapeLinks</em>.</p>
<h2>The included Unity project</h2>
<p>A Unity project implementing <em>ColorShapeLinks</em> is included in this assignment. The project should be executed within the Unity editor, not as a standalone build. Project execution can be configured by manipulating the <code>SessionConfiguration</code> game object in the Unity Editor. This is done by: 1) editing the fields of the <a href="Assets/Scripts/SessionController.cs"><code>SessionController</code></a> script; and, 2) adding or removing AI scripts, i.e., scripts which extend <a href="see the [AI
implementation](#ai-implementation)"><code>AIPlayer</code></a> section.</p>
<h3>Fields of the <code><a class="el" href="class_session_controller.html" title="Script which controls ColorShapeLinks sessions, which can include one or more matches.">SessionController</a></code> game object</h3>
<p>Fields of the <a href="Assets/Scripts/SessionController.cs"><code>SessionController</code></a> script are divided in three sections:</p>
<ol type="1">
<li><b><a class="el" href="struct_match.html" title="Represents one match in a session.">Match</a> properties</b> - <a class="el" href="class_board.html" title="Represents the game board.">Board</a> dimensions, win conditions, initial number of pieces per player and last move animation length in seconds.</li>
<li><b>AI properties</b> - AI time limit in seconds and minimum AI game move time.</li>
<li><b>Tournament properties</b> - Points per win, draw, loss, and information screen blocking and duration options.</li>
</ol>
<p>Tournaments occur automatically if there are more than two AI scripts active in the <code>SessionConfiguration</code> game object. Otherwise a single match is played, as discussed in the next section.</p>
<h3>Adding and removing AI scripts</h3>
<p>Zero or more AI scripts can be added to the <code>SessionConfiguration</code> game object. These scripts extend the <a href="Assets/Scripts/AI/AIPlayer.cs"><code>AIPlayer</code></a> class, as discussed in the <a href="#ai-implementation">AI implementation</a> section. The number of active AI scripts in the <code>SessionConfiguration</code> game object determines what type of session will run:</p>
<ul>
<li>Zero active AI scripts: a match between human players will take place.</li>
<li>One active AI script: a game between the AI and a human player will take place.</li>
<li>Two active AI scripts: a game between the two AIs will take place.</li>
<li>More than two active AI scripts: a <b>tournament session</b> will take place, where each AI plays against all other AIs twice, one as the first player (white), another as the second player (red).</li>
</ul>
<p>During and after the tournament session, all match results as well as current standings / classifications, are presented.</p>
<h2>Assignment tasks</h2>
<p>This project has two tasks, namely, 1) the <a href="#ai-implementation">implementation of a competitive AI</a> for the <em>ColorShapeLinks</em> board game, and, 2) <a href="#report">writing of a report</a>. These tasks are discussed in further detail in the next sections.</p>
<h3>AI implementation</h3>
<p>Students should implement a minimum of two classes. For example, if your AI is called <em>G03VerySmart</em>, these classes are as follows:</p>
<ol type="1">
<li>**<code>G03VerySmartAI</code>**, which extends <a href="Assets/Scripts/AI/AIPlayer.cs"><code>AIPlayer</code></a>. This class should be added as a component of the <code>SessionConfiguration</code> game object, and allows the AI to be found by the game and optionally configured in the Unity editor.</li>
<li>**<code>G03VerySmartAIThinker</code>**, which implements the <a href="Assets/Scripts/AI/IThinker.cs"><code>IThinker</code></a> interface. This is where the AI should actually be implemented.</li>
</ol>
<p>These classes should be in their own folder, <code>G03VerySmart</code>, which in turn should be placed at <a href="Assets/Scripts/AI/AIs/"><code>Assets/Scripts/AI/AIs/</code></a>. This folder contains some examples of dumb AIs to demonstrate how the code should be organized.</p>
<p>Students should not modify existing code. If a bug is found in the included Unity project, a fix should be submitted through a <a href="https://github.com/VideojogosLusofona/ia_2019_board_game_ai/compare">pull request</a>, so it becomes available to everyone.</p>
<h4>The class that extends <code><a class="el" href="class_a_i_player.html" title="Base class for AI player configuration classes.">AIPlayer</a></code></h4>
<p>This class allows an AI to be found by the game, and for the AI to be optionally configured in the Unity editor. For that purpose, it must be added as a component of the <code>SessionConfiguration</code> game object, and implement the following read-only properties:</p>
<ol type="1">
<li><code>PlayerName</code>, which should return the <em>string</em> with the AI's name.</li>
<li><code>Thinker</code>, which should return an instance of the class that implements <a href="Assets/Scripts/AI/IThinker.cs"><code>IThinker</code></a>.</li>
</ol>
<p>The instance of the class that implements <a href="Assets/Scripts/AI/IThinker.cs"><code>IThinker</code></a> should be created in the <code>Setup()</code> method, which needs to be overridden when extending <a href="Assets/Scripts/AI/AIPlayer.cs"><code>AIPlayer</code></a>. The <a href="Assets/Scripts/AI/AIs/">example AIs</a> demonstrate how this should be done.</p>
<p>For configuring the AI in the Unity editor, the class that extends <a href="Assets/Scripts/AI/AIPlayer.cs"><code>AIPlayer</code></a> can have editable fields (e.g. maximum search depth). Following best practices, these fields should be private and have the [[<code>SerializeField</code>]] attribute.</p>
<p>For AIs that really want to search as long and deep as possible, the time limit is available in the <code>AITimeLimit</code> property, and can be passed to the thinker during its instantiation in the <code>Setup()</code> method.</p>
<h4>The class that implements <code><a class="el" href="interface_i_thinker.html" title="The actual AI code of specific AIs should be placed in classes which implement this interface.">IThinker</a></code></h4>
<p>This class is where the AI should be implemented. The <a href="Assets/Scripts/AI/IThinker.cs"><code>IThinker</code></a> interface defines the <code>Think()</code> method, which accepts the <a href="Assets/Scripts/BoardGame/Board.cs">game board</a> and a <a href="https://docs.microsoft.com/dotnet/api/system.threading.cancellationtoken">cancellation token</a>, returning a <a href="Assets/Scripts/FutureMove.cs"><code>FutureMove</code></a>. Simply put, the method accepts the game board, the AI decides the best move to perform, and returns that move, which will eventually be executed by the game engine.</p>
<h5>Cancellation requests</h5>
<p>The main thread may ask the AI to stop <em>thinking</em>, for example if the thinking time limit has expired. Thus, while <em>thinking</em>, the AI should frequently test if a cancellation request was made to the <a href="https://docs.microsoft.com/dotnet/api/system.threading.cancellationtoken">cancellation token</a>. If so, it should return immediately with no move performed, as exemplified in the following code:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (ct.IsCancellationRequested) <span class="keywordflow">return</span> <a class="code" href="struct_future_move.html">FutureMove</a>.<a class="code" href="struct_future_move.html#a99a1757fcd25cffdd18cf8bc5c46ac8a">NoMove</a>;</div>
</div><!-- fragment --><h5>Thinker code limitations</h5>
<p>The <code>Think()</code> method is called in a separate thread from the main Unity thread. As such, most Unity classes and objects cannot be used by the thinker, especially those used in Unity's game loop, e.g. <a href="https://docs.unity3d.com/ScriptReference/Time.html"><code>Time</code></a> and <a href="https://docs.unity3d.com/ScriptReference/Random.html"><code>Random</code></a>. The <a href="https://docs.unity3d.com/ScriptReference/Mathf.html"><code>Mathf</code></a> functions can be used without problems, since they do not depend on anything other than the input they are given.</p>
<p>Timing and random number generation functionality, useful or even mandatory for the thinker, can be obtained with native C# types such as <a href="https://docs.microsoft.com/dotnet/api/system.datetime"><code>DateTime</code></a>, <a href="https://docs.microsoft.com/dotnet/api/system.timespan"><code>TimeSpan</code></a> and <a href="https://docs.microsoft.com/dotnet/api/system.random"><code>Random</code></a>.</p>
<h5>Game board functionality inside the thinker</h5>
<p>The thinker can freely modify the <a href="Assets/Scripts/BoardGame/Board.cs">game board</a>, since this is a copy and not the original game board being used in the main Unity thread. More specifically, the thinker can try moves with the <code>DoMove()</code> method, and cancel them with the <code>UndoMove()</code> method. The board keeps track of the move history, so the thinker can perform any sequence of moves, and roll them back afterwards.</p>
<p>The <code>CheckWinner()</code> method is useful to determine if there is a winner. If there is one, the solution is placed in the method's optional parameter.</p>
<p>For building heuristics, the public read-only variable <code>winCorridors</code> might be important. This variable is a collection containing all corridors (sequences of positions) where promising or winning piece sequences may exist.</p>
<h3>Report</h3>
<p>The report should be in the form of a properly formatted Markdown file named <code>README.md</code>, and contain the following information:</p>
<ul>
<li>Author names (first and last), and respective student numbers.</li>
<li>Information of who did what in the assignment.</li>
<li>Description of the developed solution, namely the implemented algorithm and the chosen static evaluation function (heuristic).<ul>
<li>Diagrams or schemes that aid, enhance and/or simplify the description will have positive influence in the final grade.</li>
</ul>
</li>
<li>References, including books, papers, websites, discussions with colleagues, reutilized open source code (e.g. from StackOverflow).</li>
</ul>
<h2>Evaluation criteria</h2>
<p>The assignment will be evaluated with a grade from 0 to 20, according to the following criteria:</p>
<ul>
<li>Up to 11: a basic functional Minimax/Negamax search, with a well thought-out heuristic for a game of <em>ColorShapeLinks</em> with standard <a href="https://boardgamegeek.com/boardgame/55810/simplexity">Simplexity</a> rules (7x7 board, 4 in a row win condition), and capable of stop searching when the cancellation token is activated.</li>
<li>Up to 13: the search is optimized with alpha-beta pruning.</li>
<li>Up to 15: the search can be used for games of <em>ColorShapeLinks</em> with any board board size and win condition.</li>
<li>Over 15: the search is optimized with one or more of the following approaches:<ul>
<li><a class="el" href="struct_move.html" title="Represents a move already performed.">Move</a> ordering (moves with best potential are searched first).</li>
<li>Iterative deepening, which returns best solution found before the AI time limit expires.</li>
<li>Other approaches not discussed in class: Negascout, transposition tables, etc.</li>
</ul>
</li>
</ul>
<p>Within these criteria, the following items will also be considered:</p>
<ul>
<li>Code: quality, readability, comments and organization.</li>
<li>Report: quality of writing, organization of ideas, references, auxiliary diagrams and schemes.</li>
</ul>
<p>All AIs will face each other in two tournaments:</p>
<ol type="1">
<li>The first tournament will be played using standard <a href="https://boardgamegeek.com/boardgame/55810/simplexity">Simplexity</a> rules (7x7 board, 4 in a row win condition) and with a time limit of 0.2 seconds.<ul>
<li>The top 3 AIs will receive a bonus of 1.5, 1 and 0.5 points in their grade, respectively.</li>
<li>AIs not competent enough to enter the tournament (i.e., they crash or freeze the Unity project, or do not respond to cancellation requests), will be penalized with 1 point in the final grade.</li>
</ul>
</li>
<li>The second tournament will be played using an arbitrary board size, win condition and time limit. These will only be revealed immediately before the tournament starts.<ul>
<li>AIs capable of simply playing this tournament will receive 1 bonus point in their grade.</li>
<li>The top 3 AIs will receive a bonus of 1.5, 1 and 0.5 points in their grade, respectively.</li>
</ul>
</li>
</ol>
<p>The bonuses and penalties are cumulative, but the final grade cannot be lower than 0 or higher than 20.</p>
<h2>Assignment submission</h2>
<p>The assignment should be submitted by groups of 2 or 3 students, via Moodle, before January 7, 23:00, and must include the following items:</p>
<ul>
<li>The class that extends <a href="Assets/Scripts/AI/AIPlayer.cs"><code>AIPlayer</code></a></li>
<li>The class that implements <a href="Assets/Scripts/AI/IThinker.cs"><code>IThinker</code></a></li>
<li>*(Optional)* Other classes required by the two mandatory classes.</li>
<li>The Markdown-formatted report in the <code>README.md</code> file.</li>
<li>*(Optional)* Images used in the report.</li>
</ul>
<p>A discussion will be performed on January 8, during class, as well as the two tournaments referred in the previous section.</p>
<h2>Academic honesty</h2>
<p>Academic dishonesty is unacceptable and will not be tolerated. Cheating, forgery, plagiarism and collusion in dishonest acts undermine the University's educational mission and the students' personal and intellectual growth. <a href="https://www.ulusofona.pt/">Lusófona</a> students are expected to bear individual responsibility for their work, to learn the rules and definitions that underlie the practice of academic integrity, and to uphold its ideals. Ignorance of the rules is not an acceptable excuse for disobeying them. Any student who attempts to compromise or devalue the academic process will be sanctioned according to <a href="https://www.ulusofona.pt/">Lusófona</a> regulations.</p>
<p><em>Text adapted from <a href="https://www.baruch.cuny.edu/academic/academic_honesty.html">Baruch College</a></em>.</p>
<h2>Licenses</h2>
<p>This assignment (the text and non-code files) are made available under the <a href="https://opensource.org/licenses/MPL-2.0">Mozilla Public License 2.0</a>. The code is made available under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</p>
<h2>Metadata</h2>
<ul>
<li>Author: <a href="https://github.com/fakenmc">Nuno Fachada</a></li>
<li>Degree: <a href="https://www.ulusofona.pt/en/undergraduate/videogames">Bachelor in Videogames</a></li>
<li>Institution: <a href="https://www.ulusofona.pt/">Universidade Lusófona de Humanidades e Tecnologias</a></li>
</ul>
<p>[[<code>SerializeField</code>]]:<a href="https://docs.unity3d.com/ScriptReference/SerializeField.html">https://docs.unity3d.com/ScriptReference/SerializeField.html</a> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astruct_future_move_html_a99a1757fcd25cffdd18cf8bc5c46ac8a"><div class="ttname"><a href="struct_future_move.html#a99a1757fcd25cffdd18cf8bc5c46ac8a">FutureMove.NoMove</a></div><div class="ttdeci">static FutureMove NoMove</div><div class="ttdoc">Represent a &quot;no move&quot; decision, when an IA is unable to decide which move to perform,...</div><div class="ttdef"><b>Definition:</b> <a href="_future_move_8cs_source.html#l00028">FutureMove.cs:28</a></div></div>
<div class="ttc" id="astruct_future_move_html"><div class="ttname"><a href="struct_future_move.html">FutureMove</a></div><div class="ttdoc">Represents a move to be performed in the future.</div><div class="ttdef"><b>Definition:</b> <a href="_future_move_8cs_source.html#l00011">FutureMove.cs:11</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
